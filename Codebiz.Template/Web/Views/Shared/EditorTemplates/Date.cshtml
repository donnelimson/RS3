@*@model Nullable<DateTime>
@{
    DateTime dt = DateTime.Now;
    if (Model != null)
    {
        dt = (System.DateTime)Model;
    }
    @Html.TextBox("", String.Format("{0:d}", dt.ToShortDateString()), new { @class = "datefield", type = "date" })
}*@

@model Nullable<DateTime>
@{
    var htmlAttributes = System.Web.Mvc.HtmlHelper.AnonymousObjectToHtmlAttributes(ViewData["htmlAttributes"]);
    htmlAttributes["type"] = "text";
    var value = (Model != null ? Model.Value.ToString("MM/dd/yyyy") : string.Empty);
    @Html.TextBox("", value, htmlAttributes)
}